/**
* author : ahuing
* date   : 2015-8-7
* name   : jqfixed v1.01
* modify : 2016.04.01
 */
!function(a){function c(c){return this.each(function(){var d=a(this),e=d.data("jqFixed"),f="object"==typeof c&&c;e||(d.data("jqFixed",e=new b(this,f)),e.init())})}var d,b=function(c,d){this.o=a.extend(!0,{},b.defaults,d),this.$self=a(c)};b.defaults={css:{},fixed:0,margintop:0,fade:0,close:".btn-close",resize:0},b.prototype={init:function(){var b,c,d,e,f,g,h,i,j;this.$self.length&&(b=this,c=a(window),d=!-[1,]&&!window.XMLHttpRequest,e=b.o,f=b.$self.outerHeight(!0),g=0,h={position:d?"absolute":"fixed",marginTop:0,display:"block",zIndex:parseInt((new Date).getTime()/1e3)},e.css.zIndex=e.css.zIndex||b.$self.css("z-index"),e.css.position=e.css.position||b.$self.css("position"),b.$self.css(e.css),i=e.css.marginTop=b.$self.offset().top,"fixed"==e.css.position?(e.css.marginTop=h.marginTop=e.css.bottom>=0?c.height()-f-e.css.bottom:i-c.scrollTop(),e.css.bottom="auto",d&&(e.css.position="absolute")):("absolute"!=e.css.position&&(b.$self.before('<div style="height:'+f+'px"></div>'),e.css.marginTop=-f),e.fixed?h.marginTop=e.fixed>i?e.margintop:i-e.fixed:e.fixed=i),e.css.top=0,e.css.width=e.css.width||b.$self.width(),b.$self.css(e.css),b.$self.find(e.close).click(function(){b.$self.css("display","none"),c.off("scroll.fixed")}),e.fade&&b.$self.on("unfixed",function(){b.$self.one("fixed",function(){b.$self.css("display","none").animate({opacity:"show"})})}),j=function(){var a=c.scrollTop();h.top=d?a:0,b.$self.css(a>=e.fixed&&h||e.css),a>=e.fixed&&b.$self.trigger("fixed",[a,f]).trigger(a>g?"scrollUp":"scrollDown")||b.$self.trigger("unfixed"),setTimeout(function(){g=a},0)},j(),c.on("scroll.fixed",j),e.resize&&c.on("resize",function(){var a=parseInt(b.$self.css("min-width"));e.css.width=c.width()>a?c.width():a,b.$self.css("width",e.css.width)}))}},d=a.fn.jqFixed,a.fn.jqFixed=c,a.fn.jqFixed.Constructor=b,a.fn.jqFixed.noConflict=function(){return a.fn.jqFixed=d,this},a(window).on("load",function(){a(".jqFixed").each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery);