var TouchSlide=function(a){var b,c,d,e,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,J,K,L,M,N,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab;if(a=a||{},b={slideCell:a.slideCell||"#touchSlide",titCell:a.titCell,showDot:null==a.showDot?!0:!1,mainCell:a.mainCell||".bd",effect:a.effect||"left",autoPlay:a.autoPlay||!1,delayTime:a.delayTime||200,interTime:a.interTime||2500,defaultIndex:a.defaultIndex||0,titOnClassName:a.titOnClassName||"on",autoPage:a.autoPage||!1,prevCell:a.prevCell||".prev",nextCell:a.nextCell||".next",pageStateCell:a.pageStateCell||".pageState",pnLoop:"undefined "==a.pnLoop?!0:a.pnLoop,startFun:a.startFun||null,endFun:a.endFun||null,switchLoad:a.switchLoad||null},c=document.getElementById(b.slideCell.replace("#","")),!c)return!1;if(d=function(a,b){var c,d,e,f,g,h,i,j;if("undefined"==typeof a)return!1;a=a.split(" "),c=[],b=b||document,d=[b];for(e in a)0!=a[e].length&&c.push(a[e]);for(e in c){if(0==d.length)return!1;f=[];for(g in d)if("#"==c[e][0])f.push(document.getElementById(c[e].replace("#","")));else if("."==c[e][0])for(h=d[g].getElementsByTagName("*"),i=0;i<h.length;i++)j=h[i].className,j&&-1!=j.search(new RegExp("\\b"+c[e].replace(".","")+"\\b"))&&f.push(h[i]);else for(h=d[g].getElementsByTagName(c[e]),i=0;i<h.length;i++)f.push(h[i]);d=f}return 0==d.length||d[0]==b?!1:d},e=function(a,b){var d,c=document.createElement("div");return c.innerHTML=b,c=c.children[0],d=a.cloneNode(!0),c.appendChild(d),a.parentNode.replaceChild(c,a),m=d,c},g=function(a,b){!a||!b||a.className&&-1!=a.className.search(new RegExp("\\b"+b+"\\b"))||(a.className+=(a.className?" ":"")+b)},h=function(a,b){!a||!b||a.className&&-1==a.className.search(new RegExp("\\b"+b+"\\b"))||(a.className=a.className.replace(new RegExp("\\s*\\b"+b+"\\b","g"),""))},i=b.effect,j=d(b.prevCell,c)[0],k=d(b.nextCell,c)[0],l=d(b.pageStateCell)[0],m=d(b.mainCell,c)[0],!m)return!1;if(n=m.children.length,!n)return!1;if(!b.titCell&&b.showDot){for(o=document.createElement("ul"),p="",q=0;n>q;q++)p+="<li></li>";o.innerHTML=p,o.className="dots",c.appendChild(o),b.titCell=".dots li"}if(r=d(b.titCell,c),s=r?r.length:n,t=b.switchLoad,u=parseInt(b.defaultIndex),v=parseInt(b.delayTime),w=parseInt(b.interTime),x="false"==b.autoPlay||0==b.autoPlay?!1:!0,y="false"==b.autoPage||0==b.autoPage?!1:!0,z="false"==b.pnLoop||0==b.pnLoop?!1:!0,A=u,B=null,C=null,D=null,E=0,F=0,G=0,H=0,J=/hp-tablet/gi.test(navigator.appVersion),K="ontouchstart"in window&&!J,L=K?"touchstart":"mousedown",M=K?"touchmove":"",N=K?"touchend":"mouseup",P=m.parentNode.clientWidth,S=n,0==s&&(s=n),y){if(s=n,r=r[0],r.innerHTML="",T="",1==b.autoPage||"true"==b.autoPage)for(q=0;s>q;q++)T+="<li>"+(q+1)+"</li>";else for(q=0;s>q;q++)T+=b.autoPage.replace("$",q+1);r.innerHTML=T,r=r.children}for("leftLoop"==i&&(S+=2,m.appendChild(m.children[0].cloneNode(!0)),m.insertBefore(m.children[n-1].cloneNode(!0),m.children[0])),Q=e(m,'<div class="tempWrap" style="overflow:hidden; position:relative;"></div>'),m.style.cssText="width:"+S*P+"px;"+"position:relative;overflow:hidden;padding:0;margin:0;display: -webkit-box; display: box;",q=0;S>q;q++)m.children[q].style.cssText="-webkit-box-flex: 1; box-flex: 1;vertical-align:top;width:"+P+"px";if(U=function(){"function"==typeof b.startFun&&b.startFun(u,s)},V=function(){"function"==typeof b.endFun&&b.endFun(u,s)},W=function(a){var b=("leftLoop"==i?u+1:u)+a,c=function(a){var c,b=m.children[a].getElementsByTagName("img");for(c=0;c<b.length;c++)b[c].getAttribute(t)&&(b[c].setAttribute("src",b[c].getAttribute(t)),b[c].removeAttribute(t))};if(c(b),"leftLoop"==i)switch(b){case 0:c(n);break;case 1:c(n+1);break;case n:c(0);break;case n+1:c(1)}},X=function(){var a,b;for(P=Q.clientWidth,m.style.width=S*P+"px",a=0;S>a;a++)m.children[a].style.width=P+"px";b="leftLoop"==i?u+1:u,Y(-b*P,0)},window.addEventListener("resize",X,!1),Y=function(a,b,c){c=c?c.style:m.style,c.webkitTransitionDuration=c.MozTransitionDuration=c.msTransitionDuration=c.OTransitionDuration=c.transitionDuration=b+"ms",c.webkitTransform="translate("+a+"px,0)"+"translateZ(0)",c.msTransform=c.MozTransform=c.OTransform="translateX("+a+"px)"},Z=function(a){switch(i){case"left":u>=s?u=a?u-1:0:0>u&&(u=a?0:s-1),null!=t&&W(0),Y(-u*P,v),A=u;break;case"leftLoop":null!=t&&W(0),Y(-(u+1)*P,v),-1==u?(C=setTimeout(function(){Y(-s*P,0)},v),u=s-1):u==s&&(C=setTimeout(function(){Y(-P,0)},v),u=0),A=u}U(),D=setTimeout(function(){V()},v);for(var c=0;s>c;c++)h(r[c],b.titOnClassName),c==u&&g(r[c],b.titOnClassName);0==z&&(h(k,"nextStop"),h(j,"prevStop"),0==u?g(j,"prevStop"):u==s-1&&g(k,"nextStop")),l&&(l.innerHTML="<span>"+(u+1)+"</span>/"+s)},Z(),x&&(B=setInterval(function(){u++,Z()},w)),r)for(q=0;s>q;q++)!function(){var a=q;r[a].addEventListener("click",function(){clearTimeout(C),clearTimeout(D),u=a,Z()})}();k&&k.addEventListener("click",function(){(1==z||u!=s-1)&&(clearTimeout(C),clearTimeout(D),u++,Z())}),j&&j.addEventListener("click",function(){(1==z||0!=u)&&(clearTimeout(C),clearTimeout(D),u--,Z())}),$=function(a){clearTimeout(C),clearTimeout(D),R=void 0,G=0;var b=K?a.touches[0]:a;E=b.pageX,F=b.pageY,m.addEventListener(M,_,!1),m.addEventListener(N,ab,!1)},_=function(a){if(!K||!(a.touches.length>1||a.scale&&1!==a.scale)){var b=K?a.touches[0]:a;if(G=b.pageX-E,H=b.pageY-F,"undefined"==typeof R&&(R=!!(R||Math.abs(G)<Math.abs(H))),!R){switch(a.preventDefault(),x&&clearInterval(B),i){case"left":(0==u&&G>0||u>=s-1&&0>G)&&(G=.4*G),Y(-u*P+G,0);break;case"leftLoop":Y(-(u+1)*P+G,0)}null!=t&&Math.abs(G)>P/3&&W(G>-0?-1:1)}}},ab=function(a){0!=G&&(a.preventDefault(),R||(Math.abs(G)>P/10&&(G>0?u--:u++),Z(!0),x&&(B=setInterval(function(){u++,Z()},w))),m.removeEventListener(M,_,!1),m.removeEventListener(N,ab,!1))},m.addEventListener(L,$,!1)};